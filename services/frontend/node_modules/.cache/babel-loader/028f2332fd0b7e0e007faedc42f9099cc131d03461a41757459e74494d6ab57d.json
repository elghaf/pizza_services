{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ayoub\\\\OneDrive\\\\Desktop\\\\eagleAI\\\\pizza_store_detection\\\\services\\\\frontend\\\\src\\\\components\\\\ROIZoneManager.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ROIZoneManager = ({\n  currentFrame,\n  onZonesUpdate,\n  existingZones = [],\n  isEnabled = true,\n  frameWidth = 640,\n  frameHeight = 480\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  const [zones, setZones] = useState(existingZones);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [currentZone, setCurrentZone] = useState(null);\n  const [selectedZoneType, setSelectedZoneType] = useState('sauce_area');\n  const [editingZone, setEditingZone] = useState(null);\n  const [showZones, setShowZones] = useState(true);\n\n  // Zone types with professional configuration\n  const zoneTypes = {\n    sauce_area: {\n      name: 'Sauce Area',\n      color: '#FF6B35',\n      fillColor: 'rgba(255, 107, 53, 0.2)',\n      requiresScooper: true,\n      icon: 'üçÖ',\n      description: 'Sauce dispensing and handling area'\n    },\n    cheese_area: {\n      name: 'Cheese Area',\n      color: '#FFD23F',\n      fillColor: 'rgba(255, 210, 63, 0.2)',\n      requiresScooper: true,\n      icon: 'üßÄ',\n      description: 'Cheese container and handling area'\n    },\n    meat_area: {\n      name: 'Meat/Protein Area',\n      color: '#FF4757',\n      fillColor: 'rgba(255, 71, 87, 0.2)',\n      requiresScooper: true,\n      icon: 'ü•ì',\n      description: 'Meat and protein ingredient area'\n    },\n    vegetable_area: {\n      name: 'Vegetable Area',\n      color: '#2ED573',\n      fillColor: 'rgba(46, 213, 115, 0.2)',\n      requiresScooper: true,\n      icon: 'ü•¨',\n      description: 'Vegetable and fresh ingredient area'\n    },\n    prep_surface: {\n      name: 'Prep Surface',\n      color: '#5352ED',\n      fillColor: 'rgba(83, 82, 237, 0.2)',\n      requiresScooper: false,\n      icon: 'üçï',\n      description: 'Pizza preparation surface (no scooper required)'\n    },\n    cleaning_area: {\n      name: 'Cleaning Area',\n      color: '#00D2D3',\n      fillColor: 'rgba(0, 210, 211, 0.2)',\n      requiresScooper: false,\n      icon: 'üßΩ',\n      description: 'Cleaning and sanitization area'\n    }\n  };\n  useEffect(() => {\n    if (onZonesUpdate) {\n      onZonesUpdate(zones);\n    }\n  }, [zones, onZonesUpdate]);\n  useEffect(() => {\n    drawZones();\n  }, [zones, currentFrame, showZones, frameWidth, frameHeight]);\n  const getCanvasCoordinates = event => {\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const scaleX = canvas.width / rect.width;\n    const scaleY = canvas.height / rect.height;\n    return {\n      x: (event.clientX - rect.left) * scaleX,\n      y: (event.clientY - rect.top) * scaleY\n    };\n  };\n  const handleMouseDown = event => {\n    if (!isEnabled) return;\n    const coords = getCanvasCoordinates(event);\n\n    // Check if clicking on existing zone for editing\n    const clickedZone = findZoneAtPoint(coords.x, coords.y);\n    if (clickedZone) {\n      setEditingZone(clickedZone);\n      return;\n    }\n\n    // Start drawing new zone\n    setIsDrawing(true);\n    setCurrentZone({\n      id: `zone_${Date.now()}`,\n      type: selectedZoneType,\n      points: [coords],\n      isComplete: false\n    });\n  };\n  const handleMouseMove = event => {\n    if (!isDrawing || !currentZone) return;\n    const coords = getCanvasCoordinates(event);\n\n    // Update current zone with new point for rectangle drawing\n    if (currentZone.points.length === 1) {\n      const updatedZone = {\n        ...currentZone,\n        points: [currentZone.points[0], coords]\n      };\n      setCurrentZone(updatedZone);\n      drawZones([...zones, updatedZone]);\n    }\n  };\n  const handleMouseUp = event => {\n    if (!isDrawing || !currentZone) return;\n    const coords = getCanvasCoordinates(event);\n\n    // Complete rectangle zone\n    if (currentZone.points.length === 1) {\n      const newZone = {\n        ...currentZone,\n        points: [currentZone.points[0], coords],\n        isComplete: true,\n        name: `${zoneTypes[selectedZoneType].name} ${zones.length + 1}`,\n        requiresScooper: zoneTypes[selectedZoneType].requiresScooper\n      };\n      setZones([...zones, newZone]);\n      toast.success(`${zoneTypes[selectedZoneType].name} zone created!`);\n    }\n    setIsDrawing(false);\n    setCurrentZone(null);\n  };\n  const findZoneAtPoint = (x, y) => {\n    return zones.find(zone => {\n      if (zone.points.length === 2) {\n        const [p1, p2] = zone.points;\n        return x >= Math.min(p1.x, p2.x) && x <= Math.max(p1.x, p2.x) && y >= Math.min(p1.y, p2.y) && y <= Math.max(p1.y, p2.y);\n      }\n      return false;\n    });\n  };\n  const drawZones = (zonesToDraw = zones) => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    canvas.width = frameWidth;\n    canvas.height = frameHeight;\n\n    // Clear canvas\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    if (!showZones) return;\n\n    // Draw each zone\n    zonesToDraw.forEach((zone, index) => {\n      if (zone.points.length >= 2) {\n        const zoneConfig = zoneTypes[zone.type];\n        const [p1, p2] = zone.points;\n\n        // Draw filled rectangle\n        ctx.fillStyle = zoneConfig.fillColor;\n        ctx.fillRect(Math.min(p1.x, p2.x), Math.min(p1.y, p2.y), Math.abs(p2.x - p1.x), Math.abs(p2.y - p1.y));\n\n        // Draw border\n        ctx.strokeStyle = zoneConfig.color;\n        ctx.lineWidth = (editingZone === null || editingZone === void 0 ? void 0 : editingZone.id) === zone.id ? 4 : 2;\n        ctx.setLineDash((editingZone === null || editingZone === void 0 ? void 0 : editingZone.id) === zone.id ? [5, 5] : []);\n        ctx.strokeRect(Math.min(p1.x, p2.x), Math.min(p1.y, p2.y), Math.abs(p2.x - p1.x), Math.abs(p2.y - p1.y));\n\n        // Draw label\n        const labelX = Math.min(p1.x, p2.x) + 5;\n        const labelY = Math.min(p1.y, p2.y) + 20;\n        ctx.fillStyle = zoneConfig.color;\n        ctx.font = 'bold 14px Arial';\n        ctx.fillText(`${zoneConfig.icon} ${zone.name}`, labelX, labelY);\n\n        // Draw scooper requirement indicator\n        const reqText = zone.requiresScooper ? 'ü•Ñ Required' : 'üö´ Not Required';\n        ctx.font = '12px Arial';\n        ctx.fillStyle = zone.requiresScooper ? '#FF4757' : '#2ED573';\n        ctx.fillText(reqText, labelX, labelY + 18);\n      }\n    });\n\n    // Draw current zone being drawn\n    if (currentZone && currentZone.points.length === 2) {\n      const zoneConfig = zoneTypes[currentZone.type];\n      const [p1, p2] = currentZone.points;\n      ctx.strokeStyle = zoneConfig.color;\n      ctx.lineWidth = 3;\n      ctx.setLineDash([10, 5]);\n      ctx.strokeRect(Math.min(p1.x, p2.x), Math.min(p1.y, p2.y), Math.abs(p2.x - p1.x), Math.abs(p2.y - p1.y));\n    }\n  };\n  const deleteZone = zoneId => {\n    setZones(zones.filter(zone => zone.id !== zoneId));\n    setEditingZone(null);\n    toast.info('Zone deleted');\n  };\n  const clearAllZones = () => {\n    setZones([]);\n    setEditingZone(null);\n    toast.info('All zones cleared');\n  };\n  const exportZones = () => {\n    const exportData = {\n      zones: zones.map(zone => ({\n        ...zone,\n        // Convert to relative coordinates (0-1)\n        points: zone.points.map(p => ({\n          x: p.x / frameWidth,\n          y: p.y / frameHeight\n        }))\n      })),\n      frameSize: {\n        width: frameWidth,\n        height: frameHeight\n      },\n      exportedAt: new Date().toISOString()\n    };\n    const blob = new Blob([JSON.stringify(exportData, null, 2)], {\n      type: 'application/json'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `roi_zones_${Date.now()}.json`;\n    a.click();\n    URL.revokeObjectURL(url);\n    toast.success('Zones exported successfully!');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '100%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '16px',\n        padding: '16px',\n        background: 'rgba(255,255,255,0.1)',\n        borderRadius: '8px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          margin: '0 0 12px 0',\n          color: '#fff'\n        },\n        children: \"\\uD83C\\uDFAF ROI Zone Manager\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '12px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: '6px',\n            fontWeight: 'bold'\n          },\n          children: \"Zone Type:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedZoneType,\n          onChange: e => setSelectedZoneType(e.target.value),\n          style: {\n            padding: '8px',\n            borderRadius: '6px',\n            border: '1px solid rgba(255,255,255,0.3)',\n            background: 'rgba(255,255,255,0.1)',\n            color: 'white',\n            width: '200px'\n          },\n          children: Object.entries(zoneTypes).map(([key, config]) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: key,\n            style: {\n              background: '#333',\n              color: 'white'\n            },\n            children: [config.icon, \" \", config.name]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '8px',\n          flexWrap: 'wrap',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: () => setShowZones(!showZones),\n          children: showZones ? 'üëÅÔ∏è Hide Zones' : 'üëÅÔ∏è‚Äçüó®Ô∏è Show Zones'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-warning\",\n          onClick: clearAllZones,\n          disabled: zones.length === 0,\n          children: \"\\uD83D\\uDDD1\\uFE0F Clear All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success\",\n          onClick: exportZones,\n          disabled: zones.length === 0,\n          children: \"\\uD83D\\uDCE5 Export Zones\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            marginLeft: '16px',\n            fontSize: '14px',\n            opacity: 0.8\n          },\n          children: [\"Zones: \", zones.length, \" | Click and drag to create zones\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'relative',\n        display: 'inline-block'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        style: {\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          cursor: isEnabled ? 'crosshair' : 'default',\n          pointerEvents: isEnabled ? 'auto' : 'none',\n          zIndex: 20\n        },\n        onMouseDown: handleMouseDown,\n        onMouseMove: handleMouseMove,\n        onMouseUp: handleMouseUp\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 7\n    }, this), zones.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '16px',\n        padding: '16px',\n        background: 'rgba(255,255,255,0.05)',\n        borderRadius: '8px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          margin: '0 0 12px 0'\n        },\n        children: [\"\\uD83D\\uDCCB Active Zones (\", zones.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxHeight: '200px',\n          overflowY: 'auto'\n        },\n        children: zones.map((zone, index) => {\n          const config = zoneTypes[zone.type];\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              padding: '8px 12px',\n              marginBottom: '8px',\n              background: (editingZone === null || editingZone === void 0 ? void 0 : editingZone.id) === zone.id ? 'rgba(255,255,255,0.2)' : 'rgba(255,255,255,0.1)',\n              borderRadius: '6px',\n              border: `2px solid ${config.color}`\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [config.icon, \" \", zone.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                style: {\n                  opacity: 0.8\n                },\n                children: [config.description, \" | Scooper: \", zone.requiresScooper ? 'ü•Ñ Required' : 'üö´ Not Required']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => deleteZone(zone.id),\n              style: {\n                background: '#FF4757',\n                border: 'none',\n                borderRadius: '4px',\n                padding: '4px 8px',\n                color: 'white',\n                cursor: 'pointer',\n                fontSize: '12px'\n              },\n              children: \"\\uD83D\\uDDD1\\uFE0F Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 19\n            }, this)]\n          }, zone.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 276,\n    columnNumber: 5\n  }, this);\n};\n_s(ROIZoneManager, \"eODZid7TnYHQgTNx3sN1CQJsJVc=\");\n_c = ROIZoneManager;\nexport default ROIZoneManager;\nvar _c;\n$RefreshReg$(_c, \"ROIZoneManager\");","map":{"version":3,"names":["React","useState","useRef","useEffect","toast","jsxDEV","_jsxDEV","ROIZoneManager","currentFrame","onZonesUpdate","existingZones","isEnabled","frameWidth","frameHeight","_s","canvasRef","zones","setZones","isDrawing","setIsDrawing","currentZone","setCurrentZone","selectedZoneType","setSelectedZoneType","editingZone","setEditingZone","showZones","setShowZones","zoneTypes","sauce_area","name","color","fillColor","requiresScooper","icon","description","cheese_area","meat_area","vegetable_area","prep_surface","cleaning_area","drawZones","getCanvasCoordinates","event","canvas","current","rect","getBoundingClientRect","scaleX","width","scaleY","height","x","clientX","left","y","clientY","top","handleMouseDown","coords","clickedZone","findZoneAtPoint","id","Date","now","type","points","isComplete","handleMouseMove","length","updatedZone","handleMouseUp","newZone","success","find","zone","p1","p2","Math","min","max","zonesToDraw","ctx","getContext","clearRect","forEach","index","zoneConfig","fillStyle","fillRect","abs","strokeStyle","lineWidth","setLineDash","strokeRect","labelX","labelY","font","fillText","reqText","deleteZone","zoneId","filter","info","clearAllZones","exportZones","exportData","map","p","frameSize","exportedAt","toISOString","blob","Blob","JSON","stringify","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","style","children","marginBottom","padding","background","borderRadius","margin","fileName","_jsxFileName","lineNumber","columnNumber","display","fontWeight","value","onChange","e","target","border","Object","entries","key","config","gap","flexWrap","alignItems","className","onClick","disabled","marginLeft","fontSize","opacity","position","ref","cursor","pointerEvents","zIndex","onMouseDown","onMouseMove","onMouseUp","marginTop","maxHeight","overflowY","justifyContent","_c","$RefreshReg$"],"sources":["C:/Users/ayoub/OneDrive/Desktop/eagleAI/pizza_store_detection/services/frontend/src/components/ROIZoneManager.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { toast } from 'react-toastify';\n\nconst ROIZoneManager = ({ \n  currentFrame, \n  onZonesUpdate, \n  existingZones = [], \n  isEnabled = true,\n  frameWidth = 640,\n  frameHeight = 480 \n}) => {\n  const canvasRef = useRef(null);\n  const [zones, setZones] = useState(existingZones);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [currentZone, setCurrentZone] = useState(null);\n  const [selectedZoneType, setSelectedZoneType] = useState('sauce_area');\n  const [editingZone, setEditingZone] = useState(null);\n  const [showZones, setShowZones] = useState(true);\n\n  // Zone types with professional configuration\n  const zoneTypes = {\n    sauce_area: {\n      name: 'Sauce Area',\n      color: '#FF6B35',\n      fillColor: 'rgba(255, 107, 53, 0.2)',\n      requiresScooper: true,\n      icon: 'üçÖ',\n      description: 'Sauce dispensing and handling area'\n    },\n    cheese_area: {\n      name: 'Cheese Area', \n      color: '#FFD23F',\n      fillColor: 'rgba(255, 210, 63, 0.2)',\n      requiresScooper: true,\n      icon: 'üßÄ',\n      description: 'Cheese container and handling area'\n    },\n    meat_area: {\n      name: 'Meat/Protein Area',\n      color: '#FF4757',\n      fillColor: 'rgba(255, 71, 87, 0.2)',\n      requiresScooper: true,\n      icon: 'ü•ì',\n      description: 'Meat and protein ingredient area'\n    },\n    vegetable_area: {\n      name: 'Vegetable Area',\n      color: '#2ED573',\n      fillColor: 'rgba(46, 213, 115, 0.2)',\n      requiresScooper: true,\n      icon: 'ü•¨',\n      description: 'Vegetable and fresh ingredient area'\n    },\n    prep_surface: {\n      name: 'Prep Surface',\n      color: '#5352ED',\n      fillColor: 'rgba(83, 82, 237, 0.2)',\n      requiresScooper: false,\n      icon: 'üçï',\n      description: 'Pizza preparation surface (no scooper required)'\n    },\n    cleaning_area: {\n      name: 'Cleaning Area',\n      color: '#00D2D3',\n      fillColor: 'rgba(0, 210, 211, 0.2)',\n      requiresScooper: false,\n      icon: 'üßΩ',\n      description: 'Cleaning and sanitization area'\n    }\n  };\n\n  useEffect(() => {\n    if (onZonesUpdate) {\n      onZonesUpdate(zones);\n    }\n  }, [zones, onZonesUpdate]);\n\n  useEffect(() => {\n    drawZones();\n  }, [zones, currentFrame, showZones, frameWidth, frameHeight]);\n\n  const getCanvasCoordinates = (event) => {\n    const canvas = canvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const scaleX = canvas.width / rect.width;\n    const scaleY = canvas.height / rect.height;\n    \n    return {\n      x: (event.clientX - rect.left) * scaleX,\n      y: (event.clientY - rect.top) * scaleY\n    };\n  };\n\n  const handleMouseDown = (event) => {\n    if (!isEnabled) return;\n    \n    const coords = getCanvasCoordinates(event);\n    \n    // Check if clicking on existing zone for editing\n    const clickedZone = findZoneAtPoint(coords.x, coords.y);\n    if (clickedZone) {\n      setEditingZone(clickedZone);\n      return;\n    }\n\n    // Start drawing new zone\n    setIsDrawing(true);\n    setCurrentZone({\n      id: `zone_${Date.now()}`,\n      type: selectedZoneType,\n      points: [coords],\n      isComplete: false\n    });\n  };\n\n  const handleMouseMove = (event) => {\n    if (!isDrawing || !currentZone) return;\n    \n    const coords = getCanvasCoordinates(event);\n    \n    // Update current zone with new point for rectangle drawing\n    if (currentZone.points.length === 1) {\n      const updatedZone = {\n        ...currentZone,\n        points: [currentZone.points[0], coords]\n      };\n      setCurrentZone(updatedZone);\n      drawZones([...zones, updatedZone]);\n    }\n  };\n\n  const handleMouseUp = (event) => {\n    if (!isDrawing || !currentZone) return;\n    \n    const coords = getCanvasCoordinates(event);\n    \n    // Complete rectangle zone\n    if (currentZone.points.length === 1) {\n      const newZone = {\n        ...currentZone,\n        points: [currentZone.points[0], coords],\n        isComplete: true,\n        name: `${zoneTypes[selectedZoneType].name} ${zones.length + 1}`,\n        requiresScooper: zoneTypes[selectedZoneType].requiresScooper\n      };\n      \n      setZones([...zones, newZone]);\n      toast.success(`${zoneTypes[selectedZoneType].name} zone created!`);\n    }\n    \n    setIsDrawing(false);\n    setCurrentZone(null);\n  };\n\n  const findZoneAtPoint = (x, y) => {\n    return zones.find(zone => {\n      if (zone.points.length === 2) {\n        const [p1, p2] = zone.points;\n        return x >= Math.min(p1.x, p2.x) && x <= Math.max(p1.x, p2.x) &&\n               y >= Math.min(p1.y, p2.y) && y <= Math.max(p1.y, p2.y);\n      }\n      return false;\n    });\n  };\n\n  const drawZones = (zonesToDraw = zones) => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    canvas.width = frameWidth;\n    canvas.height = frameHeight;\n    \n    // Clear canvas\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    \n    if (!showZones) return;\n\n    // Draw each zone\n    zonesToDraw.forEach((zone, index) => {\n      if (zone.points.length >= 2) {\n        const zoneConfig = zoneTypes[zone.type];\n        const [p1, p2] = zone.points;\n        \n        // Draw filled rectangle\n        ctx.fillStyle = zoneConfig.fillColor;\n        ctx.fillRect(\n          Math.min(p1.x, p2.x),\n          Math.min(p1.y, p2.y),\n          Math.abs(p2.x - p1.x),\n          Math.abs(p2.y - p1.y)\n        );\n        \n        // Draw border\n        ctx.strokeStyle = zoneConfig.color;\n        ctx.lineWidth = editingZone?.id === zone.id ? 4 : 2;\n        ctx.setLineDash(editingZone?.id === zone.id ? [5, 5] : []);\n        ctx.strokeRect(\n          Math.min(p1.x, p2.x),\n          Math.min(p1.y, p2.y),\n          Math.abs(p2.x - p1.x),\n          Math.abs(p2.y - p1.y)\n        );\n        \n        // Draw label\n        const labelX = Math.min(p1.x, p2.x) + 5;\n        const labelY = Math.min(p1.y, p2.y) + 20;\n        \n        ctx.fillStyle = zoneConfig.color;\n        ctx.font = 'bold 14px Arial';\n        ctx.fillText(`${zoneConfig.icon} ${zone.name}`, labelX, labelY);\n        \n        // Draw scooper requirement indicator\n        const reqText = zone.requiresScooper ? 'ü•Ñ Required' : 'üö´ Not Required';\n        ctx.font = '12px Arial';\n        ctx.fillStyle = zone.requiresScooper ? '#FF4757' : '#2ED573';\n        ctx.fillText(reqText, labelX, labelY + 18);\n      }\n    });\n    \n    // Draw current zone being drawn\n    if (currentZone && currentZone.points.length === 2) {\n      const zoneConfig = zoneTypes[currentZone.type];\n      const [p1, p2] = currentZone.points;\n      \n      ctx.strokeStyle = zoneConfig.color;\n      ctx.lineWidth = 3;\n      ctx.setLineDash([10, 5]);\n      ctx.strokeRect(\n        Math.min(p1.x, p2.x),\n        Math.min(p1.y, p2.y),\n        Math.abs(p2.x - p1.x),\n        Math.abs(p2.y - p1.y)\n      );\n    }\n  };\n\n  const deleteZone = (zoneId) => {\n    setZones(zones.filter(zone => zone.id !== zoneId));\n    setEditingZone(null);\n    toast.info('Zone deleted');\n  };\n\n  const clearAllZones = () => {\n    setZones([]);\n    setEditingZone(null);\n    toast.info('All zones cleared');\n  };\n\n  const exportZones = () => {\n    const exportData = {\n      zones: zones.map(zone => ({\n        ...zone,\n        // Convert to relative coordinates (0-1)\n        points: zone.points.map(p => ({\n          x: p.x / frameWidth,\n          y: p.y / frameHeight\n        }))\n      })),\n      frameSize: { width: frameWidth, height: frameHeight },\n      exportedAt: new Date().toISOString()\n    };\n    \n    const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `roi_zones_${Date.now()}.json`;\n    a.click();\n    URL.revokeObjectURL(url);\n    \n    toast.success('Zones exported successfully!');\n  };\n\n  return (\n    <div style={{ width: '100%' }}>\n      {/* Zone Controls */}\n      <div style={{ \n        marginBottom: '16px', \n        padding: '16px', \n        background: 'rgba(255,255,255,0.1)', \n        borderRadius: '8px' \n      }}>\n        <h4 style={{ margin: '0 0 12px 0', color: '#fff' }}>üéØ ROI Zone Manager</h4>\n        \n        {/* Zone Type Selector */}\n        <div style={{ marginBottom: '12px' }}>\n          <label style={{ display: 'block', marginBottom: '6px', fontWeight: 'bold' }}>\n            Zone Type:\n          </label>\n          <select\n            value={selectedZoneType}\n            onChange={(e) => setSelectedZoneType(e.target.value)}\n            style={{\n              padding: '8px',\n              borderRadius: '6px',\n              border: '1px solid rgba(255,255,255,0.3)',\n              background: 'rgba(255,255,255,0.1)',\n              color: 'white',\n              width: '200px'\n            }}\n          >\n            {Object.entries(zoneTypes).map(([key, config]) => (\n              <option key={key} value={key} style={{ background: '#333', color: 'white' }}>\n                {config.icon} {config.name}\n              </option>\n            ))}\n          </select>\n        </div>\n        \n        {/* Controls */}\n        <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap', alignItems: 'center' }}>\n          <button\n            className=\"btn btn-primary\"\n            onClick={() => setShowZones(!showZones)}\n          >\n            {showZones ? 'üëÅÔ∏è Hide Zones' : 'üëÅÔ∏è‚Äçüó®Ô∏è Show Zones'}\n          </button>\n          \n          <button\n            className=\"btn btn-warning\"\n            onClick={clearAllZones}\n            disabled={zones.length === 0}\n          >\n            üóëÔ∏è Clear All\n          </button>\n          \n          <button\n            className=\"btn btn-success\"\n            onClick={exportZones}\n            disabled={zones.length === 0}\n          >\n            üì• Export Zones\n          </button>\n          \n          <span style={{ marginLeft: '16px', fontSize: '14px', opacity: 0.8 }}>\n            Zones: {zones.length} | Click and drag to create zones\n          </span>\n        </div>\n      </div>\n\n      {/* Canvas for zone drawing */}\n      <div style={{ position: 'relative', display: 'inline-block' }}>\n        <canvas\n          ref={canvasRef}\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            cursor: isEnabled ? 'crosshair' : 'default',\n            pointerEvents: isEnabled ? 'auto' : 'none',\n            zIndex: 20\n          }}\n          onMouseDown={handleMouseDown}\n          onMouseMove={handleMouseMove}\n          onMouseUp={handleMouseUp}\n        />\n      </div>\n\n      {/* Zone List */}\n      {zones.length > 0 && (\n        <div style={{ \n          marginTop: '16px', \n          padding: '16px', \n          background: 'rgba(255,255,255,0.05)', \n          borderRadius: '8px' \n        }}>\n          <h4 style={{ margin: '0 0 12px 0' }}>üìã Active Zones ({zones.length})</h4>\n          <div style={{ maxHeight: '200px', overflowY: 'auto' }}>\n            {zones.map((zone, index) => {\n              const config = zoneTypes[zone.type];\n              return (\n                <div\n                  key={zone.id}\n                  style={{\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center',\n                    padding: '8px 12px',\n                    marginBottom: '8px',\n                    background: editingZone?.id === zone.id ? 'rgba(255,255,255,0.2)' : 'rgba(255,255,255,0.1)',\n                    borderRadius: '6px',\n                    border: `2px solid ${config.color}`\n                  }}\n                >\n                  <div>\n                    <strong>{config.icon} {zone.name}</strong>\n                    <br />\n                    <small style={{ opacity: 0.8 }}>\n                      {config.description} | Scooper: {zone.requiresScooper ? 'ü•Ñ Required' : 'üö´ Not Required'}\n                    </small>\n                  </div>\n                  <button\n                    onClick={() => deleteZone(zone.id)}\n                    style={{\n                      background: '#FF4757',\n                      border: 'none',\n                      borderRadius: '4px',\n                      padding: '4px 8px',\n                      color: 'white',\n                      cursor: 'pointer',\n                      fontSize: '12px'\n                    }}\n                  >\n                    üóëÔ∏è Delete\n                  </button>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ROIZoneManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}