{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ayoub\\\\OneDrive\\\\Desktop\\\\eagleAI\\\\pizza_store_detection\\\\services\\\\frontend\\\\src\\\\components\\\\VideoProcessor.js\",\n  _s = $RefreshSig$();\n/**\n * VideoProcessor - Main component for video processing functionality\n * Split into smaller, focused components for better maintainability\n */\n\nimport React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport databaseClient from '../utils/DatabaseClient';\nimport VideoUploader from './VideoProcessor/VideoUploader';\nimport ProcessingControls from './VideoProcessor/ProcessingControls';\nimport VideoDisplay from './VideoProcessor/VideoDisplay';\nimport DetectionStats from './VideoProcessor/DetectionStats';\nimport ViolationAlerts from './VideoProcessor/ViolationAlerts';\nimport ViolationControls from './VideoProcessor/ViolationControls';\nimport ViolationHistory from './VideoProcessor/ViolationHistory';\nimport ViolationStatusOverlay from './VideoProcessor/ViolationStatusOverlay';\nimport useVideoProcessing from './VideoProcessor/hooks/useVideoProcessing';\nimport useWebSocket from './VideoProcessor/hooks/useWebSocket';\nimport useDetectionDrawing from './VideoProcessor/hooks/useDetectionDrawing';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VideoProcessor = ({\n  onSessionUpdate,\n  onDetectionUpdate,\n  onViolationUpdate,\n  currentSession\n}) => {\n  _s();\n  // State management\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [processingProgress, setProcessingProgress] = useState(0);\n  const [currentFrame, setCurrentFrame] = useState(null);\n  const [detections, setDetections] = useState([]);\n  const [violations, setViolations] = useState([]);\n  const [fps, setFps] = useState(10);\n  const [roiZones, setRoiZones] = useState([]);\n  const [showROIManager, setShowROIManager] = useState(false);\n  const [frameSize, setFrameSize] = useState({\n    width: 640,\n    height: 480\n  });\n  const [drawingEnabled, setDrawingEnabled] = useState(true);\n  const [isFullScreen, setIsFullScreen] = useState(false);\n\n  // Debug current frame state\n  console.log('ðŸŽ¬ VideoProcessor state:', {\n    hasCurrentFrame: !!currentFrame,\n    currentFrameLength: (currentFrame === null || currentFrame === void 0 ? void 0 : currentFrame.length) || 0,\n    isProcessing,\n    showROIManager,\n    detectionsCount: detections.length,\n    violationsCount: violations.length\n  });\n\n  // Refs\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const fullScreenCanvasRef = useRef(null);\n  const wsRef = useRef(null);\n  const roiZoneManagerRef = useRef(null);\n  const violationDetectorRef = useRef(null);\n\n  // Custom hooks for functionality\n  const {\n    startProcessing,\n    stopProcessing,\n    currentSessionId,\n    frameCounter\n  } = useVideoProcessing({\n    selectedFile,\n    fps,\n    setIsProcessing,\n    setProcessingProgress,\n    setCurrentFrame,\n    setDetections,\n    setViolations,\n    onSessionUpdate,\n    wsRef\n  });\n  const {\n    connectWebSocket\n  } = useWebSocket({\n    wsRef,\n    setCurrentFrame,\n    setDetections,\n    setViolations,\n    setIsProcessing,\n    setProcessingProgress,\n    onDetectionUpdate,\n    onViolationUpdate\n  });\n  const {\n    drawDetections\n  } = useDetectionDrawing({\n    videoRef,\n    canvasRef,\n    fullScreenCanvasRef\n  });\n\n  // Sync session tracking across components\n  useEffect(() => {\n    if (currentSessionId) {\n      var _roiZoneManagerRef$cu;\n      console.log('ðŸ“Š Syncing session tracking across components:', currentSessionId);\n\n      // Set session tracking for ROI Zone Manager\n      if ((_roiZoneManagerRef$cu = roiZoneManagerRef.current) !== null && _roiZoneManagerRef$cu !== void 0 && _roiZoneManagerRef$cu.setSessionTracking) {\n        roiZoneManagerRef.current.setSessionTracking(currentSessionId);\n      }\n    }\n  }, [currentSessionId]);\n\n  // Event handlers\n  const handleFileSelect = file => {\n    setSelectedFile(file);\n    toast.success(`Video selected: ${file.name}`);\n  };\n  const handleViolationDetected = violation => {\n    setViolations(prev => [...prev, violation]);\n    if (onViolationUpdate) {\n      onViolationUpdate(violation);\n    }\n    toast.error(`Violation detected: ${violation.description}`);\n  };\n  const handleStartProcessing = async () => {\n    if (!selectedFile) {\n      toast.error('Please select a video file first');\n      return;\n    }\n    await startProcessing();\n  };\n  const handleStopProcessing = async () => {\n    await stopProcessing();\n  };\n  const handleFpsChange = newFps => {\n    setFps(newFps);\n  };\n  const handleToggleROIManager = () => {\n    setShowROIManager(!showROIManager);\n  };\n  const handleZonesUpdate = zones => {\n    setRoiZones(zones);\n  };\n  const handleFrameLoad = () => {\n    const img = videoRef.current;\n    if (img) {\n      const rect = img.getBoundingClientRect();\n      setFrameSize({\n        width: img.naturalWidth || rect.width,\n        height: img.naturalHeight || rect.height\n      });\n      // Small delay to ensure image is fully rendered\n      setTimeout(() => drawDetections(detections), 50);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"video-processor\",\n    children: [/*#__PURE__*/_jsxDEV(VideoUploader, {\n      selectedFile: selectedFile,\n      onFileSelect: handleFileSelect,\n      isProcessing: isProcessing\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ProcessingControls, {\n      selectedFile: selectedFile,\n      isProcessing: isProcessing,\n      fps: fps,\n      processingProgress: processingProgress,\n      onStartProcessing: handleStartProcessing,\n      onStopProcessing: handleStopProcessing,\n      onFpsChange: handleFpsChange,\n      onToggleROIManager: handleToggleROIManager,\n      showROIManager: showROIManager,\n      roiZones: roiZones\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(VideoDisplay, {\n      currentFrame: currentFrame,\n      detections: detections,\n      violations: violations,\n      roiZones: roiZones,\n      frameSize: frameSize,\n      showROIManager: showROIManager,\n      isProcessing: isProcessing,\n      videoRef: videoRef,\n      canvasRef: canvasRef,\n      fullScreenCanvasRef: fullScreenCanvasRef,\n      onFrameLoad: handleFrameLoad,\n      onZonesUpdate: handleZonesUpdate,\n      onViolationDetected: handleViolationDetected,\n      drawDetections: drawDetections,\n      roiZoneManagerRef: roiZoneManagerRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), detections.length > 0 && /*#__PURE__*/_jsxDEV(DetectionStats, {\n      detections: detections,\n      videoRef: videoRef,\n      canvasRef: canvasRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }, this), violations.length > 0 && /*#__PURE__*/_jsxDEV(ViolationAlerts, {\n      violations: violations\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }, this), roiZones.length > 0 && /*#__PURE__*/_jsxDEV(ViolationControls, {\n      detections: detections,\n      zones: roiZones,\n      frameWidth: frameSize.width,\n      frameHeight: frameSize.height,\n      onViolationDetected: handleViolationDetected\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 9\n    }, this), !isProcessing && violations.length > 0 && /*#__PURE__*/_jsxDEV(ViolationHistory, {\n      violations: violations\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoProcessor, \"181v1XvtSSB5oXErsDFMyFtONPI=\", false, function () {\n  return [useVideoProcessing, useWebSocket, useDetectionDrawing];\n});\n_c = VideoProcessor;\nexport default VideoProcessor;\nvar _c;\n$RefreshReg$(_c, \"VideoProcessor\");","map":{"version":3,"names":["React","useState","useRef","useCallback","useEffect","toast","databaseClient","VideoUploader","ProcessingControls","VideoDisplay","DetectionStats","ViolationAlerts","ViolationControls","ViolationHistory","ViolationStatusOverlay","useVideoProcessing","useWebSocket","useDetectionDrawing","jsxDEV","_jsxDEV","VideoProcessor","onSessionUpdate","onDetectionUpdate","onViolationUpdate","currentSession","_s","selectedFile","setSelectedFile","isProcessing","setIsProcessing","processingProgress","setProcessingProgress","currentFrame","setCurrentFrame","detections","setDetections","violations","setViolations","fps","setFps","roiZones","setRoiZones","showROIManager","setShowROIManager","frameSize","setFrameSize","width","height","drawingEnabled","setDrawingEnabled","isFullScreen","setIsFullScreen","console","log","hasCurrentFrame","currentFrameLength","length","detectionsCount","violationsCount","videoRef","canvasRef","fullScreenCanvasRef","wsRef","roiZoneManagerRef","violationDetectorRef","startProcessing","stopProcessing","currentSessionId","frameCounter","connectWebSocket","drawDetections","_roiZoneManagerRef$cu","current","setSessionTracking","handleFileSelect","file","success","name","handleViolationDetected","violation","prev","error","description","handleStartProcessing","handleStopProcessing","handleFpsChange","newFps","handleToggleROIManager","handleZonesUpdate","zones","handleFrameLoad","img","rect","getBoundingClientRect","naturalWidth","naturalHeight","setTimeout","className","children","onFileSelect","fileName","_jsxFileName","lineNumber","columnNumber","onStartProcessing","onStopProcessing","onFpsChange","onToggleROIManager","onFrameLoad","onZonesUpdate","onViolationDetected","frameWidth","frameHeight","_c","$RefreshReg$"],"sources":["C:/Users/ayoub/OneDrive/Desktop/eagleAI/pizza_store_detection/services/frontend/src/components/VideoProcessor.js"],"sourcesContent":["/**\n * VideoProcessor - Main component for video processing functionality\n * Split into smaller, focused components for better maintainability\n */\n\nimport React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport databaseClient from '../utils/DatabaseClient';\n\nimport VideoUploader from './VideoProcessor/VideoUploader';\nimport ProcessingControls from './VideoProcessor/ProcessingControls';\nimport VideoDisplay from './VideoProcessor/VideoDisplay';\nimport DetectionStats from './VideoProcessor/DetectionStats';\nimport ViolationAlerts from './VideoProcessor/ViolationAlerts';\nimport ViolationControls from './VideoProcessor/ViolationControls';\nimport ViolationHistory from './VideoProcessor/ViolationHistory';\nimport ViolationStatusOverlay from './VideoProcessor/ViolationStatusOverlay';\nimport useVideoProcessing from './VideoProcessor/hooks/useVideoProcessing';\nimport useWebSocket from './VideoProcessor/hooks/useWebSocket';\nimport useDetectionDrawing from './VideoProcessor/hooks/useDetectionDrawing';\n\nconst VideoProcessor = ({ onSessionUpdate, onDetectionUpdate, onViolationUpdate, currentSession }) => {\n  // State management\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [processingProgress, setProcessingProgress] = useState(0);\n  const [currentFrame, setCurrentFrame] = useState(null);\n  const [detections, setDetections] = useState([]);\n  const [violations, setViolations] = useState([]);\n  const [fps, setFps] = useState(10);\n  const [roiZones, setRoiZones] = useState([]);\n  const [showROIManager, setShowROIManager] = useState(false);\n  const [frameSize, setFrameSize] = useState({ width: 640, height: 480 });\n  const [drawingEnabled, setDrawingEnabled] = useState(true);\n  const [isFullScreen, setIsFullScreen] = useState(false);\n\n  // Debug current frame state\n  console.log('ðŸŽ¬ VideoProcessor state:', {\n    hasCurrentFrame: !!currentFrame,\n    currentFrameLength: currentFrame?.length || 0,\n    isProcessing,\n    showROIManager,\n    detectionsCount: detections.length,\n    violationsCount: violations.length\n  });\n  \n  // Refs\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const fullScreenCanvasRef = useRef(null);\n  const wsRef = useRef(null);\n  const roiZoneManagerRef = useRef(null);\n  const violationDetectorRef = useRef(null);\n\n  // Custom hooks for functionality\n  const {\n    startProcessing,\n    stopProcessing,\n    currentSessionId,\n    frameCounter\n  } = useVideoProcessing({\n    selectedFile,\n    fps,\n    setIsProcessing,\n    setProcessingProgress,\n    setCurrentFrame,\n    setDetections,\n    setViolations,\n    onSessionUpdate,\n    wsRef\n  });\n\n  const { connectWebSocket } = useWebSocket({\n    wsRef,\n    setCurrentFrame,\n    setDetections,\n    setViolations,\n    setIsProcessing,\n    setProcessingProgress,\n    onDetectionUpdate,\n    onViolationUpdate\n  });\n\n  const { drawDetections } = useDetectionDrawing({\n    videoRef,\n    canvasRef,\n    fullScreenCanvasRef\n  });\n\n  // Sync session tracking across components\n  useEffect(() => {\n    if (currentSessionId) {\n      console.log('ðŸ“Š Syncing session tracking across components:', currentSessionId);\n\n      // Set session tracking for ROI Zone Manager\n      if (roiZoneManagerRef.current?.setSessionTracking) {\n        roiZoneManagerRef.current.setSessionTracking(currentSessionId);\n      }\n    }\n  }, [currentSessionId]);\n\n  // Event handlers\n  const handleFileSelect = (file) => {\n    setSelectedFile(file);\n    toast.success(`Video selected: ${file.name}`);\n  };\n\n  const handleViolationDetected = (violation) => {\n    setViolations(prev => [...prev, violation]);\n    if (onViolationUpdate) {\n      onViolationUpdate(violation);\n    }\n    toast.error(`Violation detected: ${violation.description}`);\n  };\n\n  const handleStartProcessing = async () => {\n    if (!selectedFile) {\n      toast.error('Please select a video file first');\n      return;\n    }\n    await startProcessing();\n  };\n\n  const handleStopProcessing = async () => {\n    await stopProcessing();\n  };\n\n  const handleFpsChange = (newFps) => {\n    setFps(newFps);\n  };\n\n  const handleToggleROIManager = () => {\n    setShowROIManager(!showROIManager);\n  };\n\n  const handleZonesUpdate = (zones) => {\n    setRoiZones(zones);\n  };\n\n  const handleFrameLoad = () => {\n    const img = videoRef.current;\n    if (img) {\n      const rect = img.getBoundingClientRect();\n      setFrameSize({\n        width: img.naturalWidth || rect.width,\n        height: img.naturalHeight || rect.height\n      });\n      // Small delay to ensure image is fully rendered\n      setTimeout(() => drawDetections(detections), 50);\n    }\n  };\n\n  return (\n    <div className=\"video-processor\">\n      {/* Video Upload Section */}\n      <VideoUploader\n        selectedFile={selectedFile}\n        onFileSelect={handleFileSelect}\n        isProcessing={isProcessing}\n      />\n\n      {/* Processing Controls */}\n      <ProcessingControls\n        selectedFile={selectedFile}\n        isProcessing={isProcessing}\n        fps={fps}\n        processingProgress={processingProgress}\n        onStartProcessing={handleStartProcessing}\n        onStopProcessing={handleStopProcessing}\n        onFpsChange={handleFpsChange}\n        onToggleROIManager={handleToggleROIManager}\n        showROIManager={showROIManager}\n        roiZones={roiZones}\n      />\n\n      {/* Video Display */}\n      <VideoDisplay\n        currentFrame={currentFrame}\n        detections={detections}\n        violations={violations}\n        roiZones={roiZones}\n        frameSize={frameSize}\n        showROIManager={showROIManager}\n        isProcessing={isProcessing}\n        videoRef={videoRef}\n        canvasRef={canvasRef}\n        fullScreenCanvasRef={fullScreenCanvasRef}\n        onFrameLoad={handleFrameLoad}\n        onZonesUpdate={handleZonesUpdate}\n        onViolationDetected={handleViolationDetected}\n        drawDetections={drawDetections}\n        roiZoneManagerRef={roiZoneManagerRef}\n      />\n\n      {/* Detection Statistics */}\n      {detections.length > 0 && (\n        <DetectionStats\n          detections={detections}\n          videoRef={videoRef}\n          canvasRef={canvasRef}\n        />\n      )}\n\n      {/* Violation Alerts */}\n      {violations.length > 0 && (\n        <ViolationAlerts violations={violations} />\n      )}\n\n      {/* Violation Detection Controls */}\n      {roiZones.length > 0 && (\n        <ViolationControls\n          detections={detections}\n          zones={roiZones}\n          frameWidth={frameSize.width}\n          frameHeight={frameSize.height}\n          onViolationDetected={handleViolationDetected}\n        />\n      )}\n\n      {/* Violation History */}\n      {!isProcessing && violations.length > 0 && (\n        <ViolationHistory violations={violations} />\n      )}\n    </div>\n  );\n};\n\nexport default VideoProcessor;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}