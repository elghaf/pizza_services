{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ayoub\\\\OneDrive\\\\Desktop\\\\eagleAI\\\\pizza_store_detection\\\\services\\\\frontend\\\\src\\\\components\\\\ViolationDetector.js\",\n  _s = $RefreshSig$();\n/**\n * ViolationDetector - Main Component\n * Orchestrates all violation detection functionality with modular architecture\n */\n\nimport React, { useEffect, useCallback } from 'react';\nimport { toast } from 'react-toastify';\n\n// Import modular components and hooks\nimport { useViolationDetection } from './ViolationDetector/hooks/useViolationDetection';\nimport ViolationSettings from './ViolationDetector/components/ViolationSettings';\nimport ViolationDisplay from './ViolationDetector/components/ViolationDisplay';\nimport ViolationHistory from './ViolationDetector/components/ViolationHistory';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ViolationDetector = ({\n  detections = [],\n  zones = [],\n  frameWidth = 640,\n  frameHeight = 480,\n  onViolationDetected,\n  hideControls = false,\n  className = '',\n  style = {}\n}) => {\n  _s();\n  // Use custom hook for violation detection logic\n  const {\n    violations,\n    violationHistory,\n    settings,\n    processDetections,\n    updateSettings,\n    clearViolations,\n    clearViolationHistory,\n    acknowledgeViolation,\n    getStats,\n    exportViolations\n  } = useViolationDetection();\n\n  // Process detections when they change\n  useEffect(() => {\n    processDetections(detections, zones, onViolationDetected);\n  }, [detections, zones, processDetections, onViolationDetected]);\n\n  // Handle settings changes\n  const handleSettingsChange = useCallback(newSettings => {\n    updateSettings(newSettings);\n\n    // Show feedback for important setting changes\n    if (newSettings.hasOwnProperty('enabled')) {\n      if (newSettings.enabled) {\n        toast.success('ðŸš¨ Violation detection enabled');\n      } else {\n        toast.info('â¸ï¸ Violation detection disabled');\n        clearViolations();\n      }\n    }\n  }, [updateSettings, clearViolations]);\n\n  // Handle violation acknowledgment\n  const handleAcknowledgeViolation = useCallback((violationId, acknowledgedBy) => {\n    acknowledgeViolation(violationId, acknowledgedBy);\n  }, [acknowledgeViolation]);\n\n  // Handle violation export\n  const handleExportViolations = useCallback((format, criteria) => {\n    try {\n      const exportData = exportViolations(format, criteria);\n\n      // Create and download file\n      const blob = new Blob([exportData], {\n        type: format === 'csv' ? 'text/csv' : 'application/json'\n      });\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `violations_${new Date().toISOString().split('T')[0]}.${format}`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      URL.revokeObjectURL(url);\n      toast.success(`Violations exported as ${format.toUpperCase()}`);\n    } catch (error) {\n      console.error('Export error:', error);\n      toast.error('Failed to export violations');\n    }\n  }, [exportViolations]);\n\n  // Handle clear history\n  const handleClearHistory = useCallback(() => {\n    if (window.confirm('Are you sure you want to clear all violation history? This action cannot be undone.')) {\n      clearViolationHistory();\n      toast.success('Violation history cleared');\n    }\n  }, [clearViolationHistory]);\n\n  // Get current statistics\n  const stats = getStats();\n\n  // If controls are hidden, only render the violation overlay\n  if (hideControls) {\n    return /*#__PURE__*/_jsxDEV(ViolationDisplay, {\n      violations: violations,\n      frameWidth: frameWidth,\n      frameHeight: frameHeight,\n      showOverlay: settings.enabled,\n      className: className\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `violation-detector ${className}`,\n    style: style,\n    children: [/*#__PURE__*/_jsxDEV(ViolationSettings, {\n      settings: settings,\n      onSettingsChange: handleSettingsChange,\n      stats: stats\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), violations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: 'rgba(239, 68, 68, 0.1)',\n        padding: '16px',\n        borderRadius: '8px',\n        marginBottom: '16px',\n        border: '2px solid #ef4444'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          margin: '0 0 12px 0',\n          color: '#ef4444',\n          fontSize: '16px',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '8px'\n        },\n        children: [\"\\uD83D\\uDEA8 Active Violations (\", violations.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\n          gap: '12px'\n        },\n        children: violations.map((violation, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '12px',\n            background: 'rgba(239, 68, 68, 0.2)',\n            borderRadius: '6px',\n            border: '1px solid #ef4444'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              marginBottom: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: '20px'\n              },\n              children: \"\\uD83D\\uDEA8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontWeight: 'bold',\n                color: '#ef4444'\n              },\n              children: violation.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                background: '#ef4444',\n                color: 'white',\n                padding: '2px 6px',\n                borderRadius: '4px',\n                fontSize: '10px',\n                fontWeight: 'bold'\n              },\n              children: violation.severity.toUpperCase()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '13px',\n              color: '#e2e8f0',\n              marginBottom: '8px'\n            },\n            children: violation.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              fontSize: '12px',\n              color: '#94a3b8'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Confidence: \", (violation.confidence * 100).toFixed(0), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: new Date(violation.timestamp).toLocaleTimeString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 17\n          }, this)]\n        }, violation.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }, this), stats.total > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: 'rgba(255, 255, 255, 0.05)',\n        padding: '16px',\n        borderRadius: '8px',\n        marginBottom: '16px',\n        border: '1px solid rgba(255, 255, 255, 0.1)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          margin: '0 0 12px 0',\n          color: '#FFD700',\n          fontSize: '16px',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '8px'\n        },\n        children: \"\\uD83D\\uDCC8 Violation Statistics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))',\n          gap: '12px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '24px',\n              fontWeight: 'bold',\n              color: '#ef4444'\n            },\n            children: stats.current\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '12px',\n              color: '#94a3b8'\n            },\n            children: \"Current\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '24px',\n              fontWeight: 'bold',\n              color: '#f59e0b'\n            },\n            children: stats.last24h\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '12px',\n              color: '#94a3b8'\n            },\n            children: \"Last 24h\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '24px',\n              fontWeight: 'bold',\n              color: '#3b82f6'\n            },\n            children: stats.total\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '12px',\n              color: '#94a3b8'\n            },\n            children: \"Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '24px',\n              fontWeight: 'bold',\n              color: '#10b981'\n            },\n            children: [(stats.averageConfidence * 100).toFixed(0), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '12px',\n              color: '#94a3b8'\n            },\n            children: \"Avg Confidence\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ViolationHistory, {\n      violationHistory: violationHistory,\n      onAcknowledgeViolation: handleAcknowledgeViolation,\n      onExportViolations: handleExportViolations,\n      onClearHistory: handleClearHistory\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ViolationDisplay, {\n      violations: violations,\n      frameWidth: frameWidth,\n      frameHeight: frameHeight,\n      showOverlay: settings.enabled,\n      className: \"violation-overlay-canvas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n};\n_s(ViolationDetector, \"B9Dd3ZpBqHGSh52FNCfyx7F7M94=\", false, function () {\n  return [useViolationDetection];\n});\n_c = ViolationDetector;\nexport default ViolationDetector;\nvar _c;\n$RefreshReg$(_c, \"ViolationDetector\");","map":{"version":3,"names":["React","useEffect","useCallback","toast","useViolationDetection","ViolationSettings","ViolationDisplay","ViolationHistory","jsxDEV","_jsxDEV","ViolationDetector","detections","zones","frameWidth","frameHeight","onViolationDetected","hideControls","className","style","_s","violations","violationHistory","settings","processDetections","updateSettings","clearViolations","clearViolationHistory","acknowledgeViolation","getStats","exportViolations","handleSettingsChange","newSettings","hasOwnProperty","enabled","success","info","handleAcknowledgeViolation","violationId","acknowledgedBy","handleExportViolations","format","criteria","exportData","blob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","download","Date","toISOString","split","body","appendChild","click","removeChild","revokeObjectURL","toUpperCase","error","console","handleClearHistory","window","confirm","stats","showOverlay","fileName","_jsxFileName","lineNumber","columnNumber","children","onSettingsChange","length","background","padding","borderRadius","marginBottom","border","margin","color","fontSize","display","alignItems","gap","gridTemplateColumns","map","violation","index","fontWeight","title","severity","description","justifyContent","confidence","toFixed","timestamp","toLocaleTimeString","id","total","textAlign","current","last24h","averageConfidence","onAcknowledgeViolation","onExportViolations","onClearHistory","_c","$RefreshReg$"],"sources":["C:/Users/ayoub/OneDrive/Desktop/eagleAI/pizza_store_detection/services/frontend/src/components/ViolationDetector.js"],"sourcesContent":["/**\n * ViolationDetector - Main Component\n * Orchestrates all violation detection functionality with modular architecture\n */\n\nimport React, { useEffect, useCallback } from 'react';\nimport { toast } from 'react-toastify';\n\n// Import modular components and hooks\nimport { useViolationDetection } from './ViolationDetector/hooks/useViolationDetection';\nimport ViolationSettings from './ViolationDetector/components/ViolationSettings';\nimport ViolationDisplay from './ViolationDetector/components/ViolationDisplay';\nimport ViolationHistory from './ViolationDetector/components/ViolationHistory';\n\nconst ViolationDetector = ({\n  detections = [],\n  zones = [],\n  frameWidth = 640,\n  frameHeight = 480,\n  onViolationDetected,\n  hideControls = false,\n  className = '',\n  style = {}\n}) => {\n  // Use custom hook for violation detection logic\n  const {\n    violations,\n    violationHistory,\n    settings,\n    processDetections,\n    updateSettings,\n    clearViolations,\n    clearViolationHistory,\n    acknowledgeViolation,\n    getStats,\n    exportViolations\n  } = useViolationDetection();\n\n  // Process detections when they change\n  useEffect(() => {\n    processDetections(detections, zones, onViolationDetected);\n  }, [detections, zones, processDetections, onViolationDetected]);\n\n  // Handle settings changes\n  const handleSettingsChange = useCallback((newSettings) => {\n    updateSettings(newSettings);\n    \n    // Show feedback for important setting changes\n    if (newSettings.hasOwnProperty('enabled')) {\n      if (newSettings.enabled) {\n        toast.success('ðŸš¨ Violation detection enabled');\n      } else {\n        toast.info('â¸ï¸ Violation detection disabled');\n        clearViolations();\n      }\n    }\n  }, [updateSettings, clearViolations]);\n\n  // Handle violation acknowledgment\n  const handleAcknowledgeViolation = useCallback((violationId, acknowledgedBy) => {\n    acknowledgeViolation(violationId, acknowledgedBy);\n  }, [acknowledgeViolation]);\n\n  // Handle violation export\n  const handleExportViolations = useCallback((format, criteria) => {\n    try {\n      const exportData = exportViolations(format, criteria);\n      \n      // Create and download file\n      const blob = new Blob([exportData], { \n        type: format === 'csv' ? 'text/csv' : 'application/json' \n      });\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `violations_${new Date().toISOString().split('T')[0]}.${format}`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      URL.revokeObjectURL(url);\n      \n      toast.success(`Violations exported as ${format.toUpperCase()}`);\n    } catch (error) {\n      console.error('Export error:', error);\n      toast.error('Failed to export violations');\n    }\n  }, [exportViolations]);\n\n  // Handle clear history\n  const handleClearHistory = useCallback(() => {\n    if (window.confirm('Are you sure you want to clear all violation history? This action cannot be undone.')) {\n      clearViolationHistory();\n      toast.success('Violation history cleared');\n    }\n  }, [clearViolationHistory]);\n\n  // Get current statistics\n  const stats = getStats();\n\n  // If controls are hidden, only render the violation overlay\n  if (hideControls) {\n    return (\n      <ViolationDisplay\n        violations={violations}\n        frameWidth={frameWidth}\n        frameHeight={frameHeight}\n        showOverlay={settings.enabled}\n        className={className}\n      />\n    );\n  }\n\n  return (\n    <div className={`violation-detector ${className}`} style={style}>\n      {/* Violation Settings */}\n      <ViolationSettings\n        settings={settings}\n        onSettingsChange={handleSettingsChange}\n        stats={stats}\n      />\n\n      {/* Current Violations Display */}\n      {violations.length > 0 && (\n        <div style={{\n          background: 'rgba(239, 68, 68, 0.1)',\n          padding: '16px',\n          borderRadius: '8px',\n          marginBottom: '16px',\n          border: '2px solid #ef4444'\n        }}>\n          <h4 style={{\n            margin: '0 0 12px 0',\n            color: '#ef4444',\n            fontSize: '16px',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px'\n          }}>\n            ðŸš¨ Active Violations ({violations.length})\n          </h4>\n          \n          <div style={{\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\n            gap: '12px'\n          }}>\n            {violations.map((violation, index) => (\n              <div\n                key={violation.id}\n                style={{\n                  padding: '12px',\n                  background: 'rgba(239, 68, 68, 0.2)',\n                  borderRadius: '6px',\n                  border: '1px solid #ef4444'\n                }}\n              >\n                <div style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '8px',\n                  marginBottom: '8px'\n                }}>\n                  <span style={{ fontSize: '20px' }}>ðŸš¨</span>\n                  <span style={{\n                    fontWeight: 'bold',\n                    color: '#ef4444'\n                  }}>\n                    {violation.title}\n                  </span>\n                  <span style={{\n                    background: '#ef4444',\n                    color: 'white',\n                    padding: '2px 6px',\n                    borderRadius: '4px',\n                    fontSize: '10px',\n                    fontWeight: 'bold'\n                  }}>\n                    {violation.severity.toUpperCase()}\n                  </span>\n                </div>\n                \n                <div style={{\n                  fontSize: '13px',\n                  color: '#e2e8f0',\n                  marginBottom: '8px'\n                }}>\n                  {violation.description}\n                </div>\n                \n                <div style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  fontSize: '12px',\n                  color: '#94a3b8'\n                }}>\n                  <span>\n                    Confidence: {(violation.confidence * 100).toFixed(0)}%\n                  </span>\n                  <span>\n                    {new Date(violation.timestamp).toLocaleTimeString()}\n                  </span>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Violation Statistics */}\n      {stats.total > 0 && (\n        <div style={{\n          background: 'rgba(255, 255, 255, 0.05)',\n          padding: '16px',\n          borderRadius: '8px',\n          marginBottom: '16px',\n          border: '1px solid rgba(255, 255, 255, 0.1)'\n        }}>\n          <h4 style={{\n            margin: '0 0 12px 0',\n            color: '#FFD700',\n            fontSize: '16px',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px'\n          }}>\n            ðŸ“ˆ Violation Statistics\n          </h4>\n          \n          <div style={{\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))',\n            gap: '12px'\n          }}>\n            <div style={{ textAlign: 'center' }}>\n              <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#ef4444' }}>\n                {stats.current}\n              </div>\n              <div style={{ fontSize: '12px', color: '#94a3b8' }}>\n                Current\n              </div>\n            </div>\n            \n            <div style={{ textAlign: 'center' }}>\n              <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#f59e0b' }}>\n                {stats.last24h}\n              </div>\n              <div style={{ fontSize: '12px', color: '#94a3b8' }}>\n                Last 24h\n              </div>\n            </div>\n            \n            <div style={{ textAlign: 'center' }}>\n              <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#3b82f6' }}>\n                {stats.total}\n              </div>\n              <div style={{ fontSize: '12px', color: '#94a3b8' }}>\n                Total\n              </div>\n            </div>\n            \n            <div style={{ textAlign: 'center' }}>\n              <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#10b981' }}>\n                {(stats.averageConfidence * 100).toFixed(0)}%\n              </div>\n              <div style={{ fontSize: '12px', color: '#94a3b8' }}>\n                Avg Confidence\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Violation History */}\n      <ViolationHistory\n        violationHistory={violationHistory}\n        onAcknowledgeViolation={handleAcknowledgeViolation}\n        onExportViolations={handleExportViolations}\n        onClearHistory={handleClearHistory}\n      />\n\n      {/* Violation Overlay Canvas */}\n      <ViolationDisplay\n        violations={violations}\n        frameWidth={frameWidth}\n        frameHeight={frameHeight}\n        showOverlay={settings.enabled}\n        className=\"violation-overlay-canvas\"\n      />\n    </div>\n  );\n};\n\nexport default ViolationDetector;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}